var moreInfo = [
	{
		title: "Solar Eclipse",
		img: "http://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Solar_eclipse_1999_4_NR.jpg/609px-Solar_eclipse_1999_4_NR.jpg",
		desc: "As seen from the Earth, a solar eclipse is a type of eclipse that occurs when the Moon passes between the Sun and Earth, and the Moon fully or partially blocks (\"occults\") the Sun.",
		bits: {
			section1: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section2: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section3: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section4: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
		}
	},
	{
		title: "Shetland Islands",
		img: "http://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Jarlshof_20080821_-_aisled_roundhouse_and_broch.jpg/220px-Jarlshof_20080821_-_aisled_roundhouse_and_broch.jpg",
		desc: "Shetland, also called the Shetland Islands, is a subarctic archipelago of Scotland that lies north-east of the island of Great Britain and forms part of the United Kingdom.",
		bits: {
			section1: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section2: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section3: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section4: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
		}
	},
	{
		title: "Norwegian Sea",
		img: "http://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/V%C3%A5gakaillen_nattlys.JPG/240px-V%C3%A5gakaillen_nattlys.JPG",
		desc: "The Norwegian Sea is a marginal sea in the North Atlantic Ocean, northwest of Norway. It is located between the North Sea (i.e. north of the United Kingdom) and the Greenland Sea and adjoins the North Atlantic Ocean to the west and the Barents Sea to the northeast.",
		bits: {
			section1: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section2: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section3: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section4: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
		}
	},
	{
		title: "British Isles",
		img: "http://upload.wikimedia.org/wikipedia/commons/thumb/5/58/British_Isles_%28orthographic_projection%29.svg/220px-British_Isles_%28orthographic_projection%29.svg.png",
		desc: "The British Isles are a group of islands off the north-western coast of continental Europe that consist of the islands of Great Britain, Ireland and over six thousand smaller isles. Two sovereign states are located on the islands: Ireland and the United Kingdom.",
		bits: {
			section1: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section2: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section3: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section4: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
		}
	},
	{
		title: "Liz Bonnin",
		img: "http://newsimg.bbc.co.uk/media/images/45859000/jpg/_45859266_liz_bbc226b.jpg",
		desc: "Elizabeth Bonnin (born 16 September 1976) is a French-born Irish television presenter who has worked on television in both Ireland and the United Kingdom. She works for the BBC, presenting Bang Goes the Theory and for ITV, presenting Countrywise.",
		bits: {
			section1: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section2: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section3: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section4: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
		}
	},

	{
		title: "National Eclipse Weather Experiment",
		img: "http://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/Solar_eclipse_1999_4_NR.jpg/609px-Solar_eclipse_1999_4_NR.jpg",
		desc: "On Friday 20 March 2015 there will be a rare near-total solar eclipse visible from the UK. The Department of Meteorology will be running a series of events and experiments, both at the University of Reading and elsewhere, during the eclipse.",
		bits: {
			section1: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section2: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section3: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
			section4: "Lorem ipsum dolor sit amet, vix in omnes mollis appetere, elitr debitis mnesarchum ad pro. Cu duo modo debet, sed alterum adversarium ne, euismod tibique intellegebat ne per.",
		}
	},
];



$(document).ready(function($) {

	if(page == "info"){
		var modalOn = false;

		var depth = 0;

		var cardlinkIndex = 0;

		var clickedCardlink;

		$("cardlink").click(function(e){
			var floatingBlock = $(".floating");
			var modalBG = $('.modal-bg');

			clickedCardlink = $(this);

			cardlinkIndex = $(this).attr('index');

			modalBG.show();
			modalOn = true;
			modalBG.css({
				width: $(window).width(),
				height: $(window).height(),
			});
			
			floatingBlock.show().animate({left: "10%"}, 200);
			$('html, body').animate({
		        scrollTop: floatingBlock.offset().top
		    }, "fast");

		    //cardlinkIndex += 0;

		    var contentItem = moreInfo[cardlinkIndex];

		    var contentHolder = floatingBlock.find('.content-holder');

		    var content = "";

		    content += "<div class='col-md-8 col-xs-12'> <h3>"+  contentItem["title"] +"</h3> <p>"+ contentItem['desc'] +"</p> </br> <a href='/stage3' class='btn btn-lg btn-primary' >View on timeline</a> </div>";

		    content += "<div class='col-md-4 col-xs-12'> <img src='" + contentItem['img'] + "' /></div>";

		    var keys = Object.keys(contentItem['bits']);

		    content += " <div class='col-xs-12'> ";

		    for(var i = 0 ; i < keys.length ; i++){
		    	content += "<label>" + keys[i] + "</label>";
		    	content += "<p>" + contentItem['bits'][keys[i]] + "</p>";
		    }

		    content += "</div>";

		    contentHolder.html(content);

		});

		$(".modal-bg").click(function(e){
			if(modalOn){
				var floatingBlock = $(".floating");
				var modalBG = $('.modal-bg');

				floatingBlock.show().animate({left: "10%"}, 200);
				$('html, body').animate({
			        scrollTop: clickedCardlink.offset().top
			    }, "fast");

				floatingBlock.hide().animate({left: "100%"}, 200);

				modalBG.hide();
				modalOn = false;

			}
		});

		$(".modal-close").click(function(e){
			if(modalOn){
				var floatingBlock = $(".floating");
				var modalBG = $('.modal-bg');

				floatingBlock.show().animate({left: "10%"}, 200);
				$('html, body').animate({
			        scrollTop: clickedCardlink.offset().top
			    }, "fast");

				floatingBlock.hide().animate({left: "100%"}, 200);

				modalBG.hide();
				modalOn = false;

			}
		});

		$(".buttons-holder div").click(function(event) {
			if($(this).hasClass('deeper')){
				if(depth >= 0 && depth < 2){
					$(".deeper-notify").fadeIn(800, function() {
						var levelToHide = ".level" + depth;
						depth++;
						var levelToShow = ".level" + depth;

						$("div"+levelToHide).slideUp("slow");
						$(levelToShow).slideDown('"slow"', function() {});
						$(".deeper-notify").fadeOut('slow', function() {});
					});
						
				}
			}
			else if($(this).hasClass('shallow')){
				if(depth > 0 && depth <= 2){
					$(".shallow-notify").fadeIn(800, function() {
						var levelToHide = ".level" + depth;
						depth--;
						var levelToShow = ".level" + depth;

						$(levelToHide).slideUp("slow");
						$(levelToShow).slideDown('"slow"', function() {});
						$(".shallow-notify").fadeOut('slow', function() {});
					});
					
				}
			}
			else if ($(this).hasClass('timeline')){
				window.location.href = '/stage3';
			}
		});
	}

	if(page == "timeline"){
		/*$(".time-article").hover(function(e){
			$(this).parent().parent().children(".related").removeClass('dont-show');
		},
		function(e){
			$(this).parent().parent().children(".related").addClass('dont-show');
		});*/
		$(".time-article").mouseover(function(e){
			$(this).parent().parent().bind("mouseover", function(e){
				$(this).addClass('highlight');
				$(this).children(".related").removeClass('dont-show');
			});
			$(this).parent().parent().bind("mouseleave", function(e){
				$(this).removeClass('highlight');
				$(this).children(".related").addClass('dont-show');
			});
		});
	}

	if(page == "3"){
		$(".timeline-scroll").height($(document).height() * 0.9);

		$(".item-holder div").click(function(event) {
			var extraInfo = $(this).find(".extra-info");

			if(!(extraInfo.is(":visible"))){
				$(".item-holder div").removeClass('highlight');

				$(this).addClass('highlight');
				var allExtraInfo = $(".extra-info");

				allExtraInfo.slideUp('slow', function() {});
				extraInfo.slideDown('slow', function() {});

				$('html,body').animate({
			          scrollTop: $(this).offset().top
			        }, "slow");
			}
		});
	}

});